(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{545:function(t,v,_){"use strict";_.r(v);var a=_(2),e=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("介绍MySQL的基础操作和指令。")]),t._v(" "),_("h2",{attrs:{id:"函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),_("ul",[_("li",[t._v("字符串函数")]),t._v(" "),_("li",[t._v("数值函数")]),t._v(" "),_("li",[t._v("日期函数")]),t._v(" "),_("li",[t._v("流程函数")])]),t._v(" "),_("h3",{attrs:{id:"字符串函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#字符串函数"}},[t._v("#")]),t._v(" 字符串函数")]),t._v(" "),_("p",[t._v("常用函数：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("函数")]),t._v(" "),_("th",[t._v("功能")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CONCAT(s1, s2, ..., sn)")]),t._v(" "),_("td",[t._v("字符串拼接，将s1, s2, ..., sn拼接成一个字符串")])]),t._v(" "),_("tr",[_("td",[t._v("LOWER(str)")]),t._v(" "),_("td",[t._v("将字符串全部转为小写")])]),t._v(" "),_("tr",[_("td",[t._v("UPPER(str)")]),t._v(" "),_("td",[t._v("将字符串全部转为大写")])]),t._v(" "),_("tr",[_("td",[t._v("LPAD(str, n, pad)")]),t._v(" "),_("td",[t._v("左填充，用字符串pad对str的左边进行填充，达到n个字符串长度")])]),t._v(" "),_("tr",[_("td",[t._v("RPAD(str, n, pad)")]),t._v(" "),_("td",[t._v("右填充，用字符串pad对str的右边进行填充，达到n个字符串长度")])]),t._v(" "),_("tr",[_("td",[t._v("TRIM(str)")]),t._v(" "),_("td",[t._v("去掉字符串头部和尾部的空格")])]),t._v(" "),_("tr",[_("td",[t._v("SUBSTRING(str, start, len)")]),t._v(" "),_("td",[t._v("返回从字符串str从start位置起的len个长度的字符串")])])])]),t._v(" "),_("p",[t._v("使用示例：")]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("-- 拼接\nSELECT CONCAT('Hello', 'World');\n-- 小写\nSELECT LOWER('Hello');\n-- 大写\nSELECT UPPER('Hello');\n-- 左填充\nSELECT LPAD('01', 5, '-');\n-- 右填充\nSELECT RPAD('01', 5, '-');\n-- 去除空格\nSELECT TRIM(' Hello World ');\n-- 切片（起始索引为1）\nSELECT SUBSTRING('Hello World', 1, 5);\n")])])]),_("h3",{attrs:{id:"数值函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数值函数"}},[t._v("#")]),t._v(" 数值函数")]),t._v(" "),_("p",[t._v("常见函数：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("函数")]),t._v(" "),_("th",[t._v("功能")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CEIL(x)")]),t._v(" "),_("td",[t._v("向上取整")])]),t._v(" "),_("tr",[_("td",[t._v("FLOOR(x)")]),t._v(" "),_("td",[t._v("向下取整")])]),t._v(" "),_("tr",[_("td",[t._v("MOD(x, y)")]),t._v(" "),_("td",[t._v("返回x/y的模")])]),t._v(" "),_("tr",[_("td",[t._v("RAND()")]),t._v(" "),_("td",[t._v("返回0~1内的随机数")])]),t._v(" "),_("tr",[_("td",[t._v("ROUND(x, y)")]),t._v(" "),_("td",[t._v("求参数x的四舍五入值，保留y位小数")])])])]),t._v(" "),_("h3",{attrs:{id:"日期函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[t._v("#")]),t._v(" 日期函数")]),t._v(" "),_("p",[t._v("常用函数：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("函数")]),t._v(" "),_("th",[t._v("功能")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CURDATE()")]),t._v(" "),_("td",[t._v("返回当前日期")])]),t._v(" "),_("tr",[_("td",[t._v("CURTIME()")]),t._v(" "),_("td",[t._v("返回当前时间")])]),t._v(" "),_("tr",[_("td",[t._v("NOW()")]),t._v(" "),_("td",[t._v("返回当前日期和时间")])]),t._v(" "),_("tr",[_("td",[t._v("YEAR(date)")]),t._v(" "),_("td",[t._v("获取指定date的年份")])]),t._v(" "),_("tr",[_("td",[t._v("MONTH(date)")]),t._v(" "),_("td",[t._v("获取指定date的月份")])]),t._v(" "),_("tr",[_("td",[t._v("DAY(date)")]),t._v(" "),_("td",[t._v("获取指定date的日期")])]),t._v(" "),_("tr",[_("td",[t._v("DATE_ADD(date, INTERVAL expr type)")]),t._v(" "),_("td",[t._v("返回一个日期/时间值加上一个时间间隔expr后的时间值")])]),t._v(" "),_("tr",[_("td",[t._v("DATEDIFF(date1, date2)")]),t._v(" "),_("td",[t._v("返回起始时间date1和结束时间date2之间的天数")])])])]),t._v(" "),_("p",[t._v("例子：")]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("-- DATE_ADD\nSELECT DATE_ADD(NOW(), INTERVAL 70 YEAR);\n")])])]),_("h3",{attrs:{id:"流程函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#流程函数"}},[t._v("#")]),t._v(" 流程函数")]),t._v(" "),_("p",[t._v("常用函数：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("函数")]),t._v(" "),_("th",[t._v("功能")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("IF(value, t, f)")]),t._v(" "),_("td",[t._v("如果value为true，则返回t，否则返回f")])]),t._v(" "),_("tr",[_("td",[t._v("IFNULL(value1, value2)")]),t._v(" "),_("td",[t._v("如果value1不为空，返回value1，否则返回value2")])]),t._v(" "),_("tr",[_("td",[t._v("CASE WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END")]),t._v(" "),_("td",[t._v("如果val1为true，返回res1，... 否则返回default默认值")])]),t._v(" "),_("tr",[_("td",[t._v("CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END")]),t._v(" "),_("td",[t._v("如果expr的值等于val1，返回res1，... 否则返回default默认值")])])])]),t._v(" "),_("p",[t._v("例子：")]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("select\n name,\n (case when age > 30 then '中年' else '青年' end)\nfrom employee;\nselect\n name,\n (case workaddress when '北京市' then '一线城市' when '上海市' then '一线城市' else '二线城市' end) as '工作地址'\nfrom employee;\n")])])]),_("h2",{attrs:{id:"约束"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#约束"}},[t._v("#")]),t._v(" 约束")]),t._v(" "),_("p",[t._v("分类：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("约束")]),t._v(" "),_("th",[t._v("描述")]),t._v(" "),_("th",[t._v("关键字")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("非空约束")]),t._v(" "),_("td",[t._v("限制该字段的数据不能为null")]),t._v(" "),_("td",[t._v("NOT NULL")])]),t._v(" "),_("tr",[_("td",[t._v("唯一约束")]),t._v(" "),_("td",[t._v("保证该字段的所有数据都是唯一、不重复的")]),t._v(" "),_("td",[t._v("UNIQUE")])]),t._v(" "),_("tr",[_("td",[t._v("主键约束")]),t._v(" "),_("td",[t._v("主键是一行数据的唯一标识，要求非空且唯一")]),t._v(" "),_("td",[t._v("PRIMARY KEY")])]),t._v(" "),_("tr",[_("td",[t._v("默认约束")]),t._v(" "),_("td",[t._v("保存数据时，如果未指定该字段的值，则采用默认值")]),t._v(" "),_("td",[t._v("DEFAULT")])]),t._v(" "),_("tr",[_("td",[t._v("检查约束（8.0.1版本后）")]),t._v(" "),_("td",[t._v("保证字段值满足某一个条件")]),t._v(" "),_("td",[t._v("CHECK")])]),t._v(" "),_("tr",[_("td",[t._v("外键约束")]),t._v(" "),_("td",[t._v("用来让两张图的数据之间建立连接，保证数据的一致性和完整性")]),t._v(" "),_("td",[t._v("FOREIGN KEY")])])])]),t._v(" "),_("p",[t._v("约束是作用于表中字段上的，可以再创建表/修改表的时候添加约束。")]),t._v(" "),_("h3",{attrs:{id:"常用约束"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用约束"}},[t._v("#")]),t._v(" 常用约束")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("约束条件")]),t._v(" "),_("th",[t._v("关键字")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("主键")]),t._v(" "),_("td",[t._v("PRIMARY KEY")])]),t._v(" "),_("tr",[_("td",[t._v("自动增长")]),t._v(" "),_("td",[t._v("AUTO_INCREMENT")])]),t._v(" "),_("tr",[_("td",[t._v("不为空")]),t._v(" "),_("td",[t._v("NOT NULL")])]),t._v(" "),_("tr",[_("td",[t._v("唯一")]),t._v(" "),_("td",[t._v("UNIQUE")])]),t._v(" "),_("tr",[_("td",[t._v("逻辑条件")]),t._v(" "),_("td",[t._v("CHECK")])]),t._v(" "),_("tr",[_("td",[t._v("默认值")]),t._v(" "),_("td",[t._v("DEFAULT")])])])]),t._v(" "),_("p",[t._v("例子：")]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("create table user(\n id int primary key auto_increment,\n name varchar(10) not null unique,\n age int check(age > 0 and age < 120),\n status char(1) default '1',\n gender char(1)\n);\n")])])]),_("h3",{attrs:{id:"外键约束"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#外键约束"}},[t._v("#")]),t._v(" 外键约束")]),t._v(" "),_("p",[t._v("添加外键：")]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("CREATE TABLE 表名(\n 字段名 字段类型,\n ...\n [CONSTRAINT] [外键名称] FOREIGN KEY(外键字段名) REFERENCES 主表(主表列名)\n);\nALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名) REFERENCES 主表(主表列名);\n\n-- 例子\nalter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id);\n")])])]),_("p",[t._v("删除外键：\n"),_("code",[t._v("ALTER TABLE 表名 DROP FOREIGN KEY 外键名;")])]),t._v(" "),_("h4",{attrs:{id:"删除-更新行为"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#删除-更新行为"}},[t._v("#")]),t._v(" 删除/更新行为")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("行为")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("NO ACTION")]),t._v(" "),_("td",[t._v("当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与RESTRICT一致）")])]),t._v(" "),_("tr",[_("td",[t._v("RESTRICT")]),t._v(" "),_("td",[t._v("当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与NO ACTION一致）")])]),t._v(" "),_("tr",[_("td",[t._v("CASCADE")]),t._v(" "),_("td",[t._v("当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除/更新外键在子表中的记录")])]),t._v(" "),_("tr",[_("td",[t._v("SET NULL")]),t._v(" "),_("td",[t._v("当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null（要求该外键允许为null）")])]),t._v(" "),_("tr",[_("td",[t._v("SET DEFAULT")]),t._v(" "),_("td",[t._v("父表有变更时，子表将外键设为一个默认值（Innodb不支持）")])])])]),t._v(" "),_("p",[t._v("更改删除/更新行为：\n"),_("code",[t._v("ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段) REFERENCES 主表名(主表字段名) ON UPDATE 行为 ON DELETE 行为;")])])])}),[],!1,null,null,null);v.default=e.exports}}]);